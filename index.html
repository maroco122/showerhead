<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜ë„ìš”ê¸ˆ ê³„ì‚°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f5f5f5;
        }
        .container {
            width: 90%;
            max-width: 400px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        h2 {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
        input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 5px solid #ccc;
            border-radius: 5px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 5px;
        }
        /* ì ˆìˆ˜í˜• ìƒ¤ì›Œí—¤ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .blink-button {
            width: 100%;
            padding: 25px;
            background: white;
            color: red;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
            font-weight: bold;
            display: none; /* ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ */
            opacity: 1;
            transition: opacity 0.5s;
        }
        .blink-button:hover {
            background: #333;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>ìˆ˜ë„ìš”ê¸ˆ ê³„ì‚°ê¸°(ì„œìš¸ì‹œ ê¸°ì¤€)</h2>
        <label for="people">ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ ì¸ì›ìˆ˜ (ëª…)</label>
        <input type="number" id="people" placeholder="ì˜ˆ: 2" min="1" value="1">

        <label for="usageTime">ğŸš¿ 1ëª… í•˜ë£¨ ì‚¬ìš©ì‹œê°„ (ë¶„)</label>
        <input type="number" id="usageTime" placeholder="ì˜ˆ: 30" min="1" value="30">

        <button onclick="calculateWaterBill()">ìš”ê¸ˆ ê³„ì‚°í•˜ê¸°</button>

        <div class="result" id="result">ğŸ’§ ìˆ˜ë„ìš”ê¸ˆ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>

        <!-- ì ˆìˆ˜í˜• ìƒ¤ì›Œí—¤ë“œ í™•ì¸í•˜ê¸° ë²„íŠ¼ (ì²˜ìŒì—ëŠ” ìˆ¨ê¹€) -->
        <button class="blink-button" onclick="openRandomLink()" id="blinkButton">ğŸ‘‰"ì¼ë³¸ ìµœìƒê¸‰<br>ì ˆìˆ˜í˜• ìƒ¤ì›Œí—¤ë“œ ê²€ìƒ‰ê²°ê³¼"ğŸ‘ˆ</button>
    </div>

    <script>
        function calculateWaterBill() {
            let people = parseInt(document.getElementById("people").value);
            let usageTime = parseInt(document.getElementById("usageTime").value);
            
            if (isNaN(people) || people < 1 || isNaN(usageTime) || usageTime < 1) {
                document.getElementById("result").innerHTML = "âš ï¸ ì˜¬ë°”ë¥¸ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.";
                return;
            }

            let waterUsagePerMin = 10; // 1ë¶„ë‹¹ ë¬¼ ì‚¬ìš©ëŸ‰ (ë¦¬í„°)
            let dailyUsage = people * usageTime * waterUsagePerMin / 1000; // ã¥ ë‹¨ìœ„ ë³€í™˜
            let monthlyUsage = dailyUsage * 30; // í•œë‹¬ ì‚¬ìš©ëŸ‰ (ã¥)

            let waterRate = 0;
            if (monthlyUsage <= 30) {
                waterRate = 580;
            } else if (monthlyUsage <= 50) {
                waterRate = 830;
            } else {
                waterRate = 1550;
            }

            let waterBill = monthlyUsage * waterRate;
            let sewerageFee = monthlyUsage * 860; // í•˜ìˆ˜ë„ ìš”ê¸ˆ
            let waterTax = monthlyUsage * 170; // ë¬¼ ì´ìš© ë¶€ë‹´ê¸ˆ

            let totalBill = waterBill + sewerageFee + waterTax;
            let formattedBill = totalBill.toLocaleString("ko-KR"); // ì²œ ë‹¨ìœ„ ì½¤ë§ˆ

            document.getElementById("result").innerHTML = 
                `ğŸ’° ì˜ˆìƒ ìˆ˜ë„ìš”ê¸ˆ: <b>${formattedBill} ì›</b><br>
                 ğŸ’§ ì˜ˆìƒ ì‚¬ìš©ëŸ‰: <b>${monthlyUsage.toFixed(1)}ã¥</b>`;

            // ë²„íŠ¼ í‘œì‹œ
            let button = document.getElementById("blinkButton");
            button.style.display = "block";
            button.style.opacity = "1";
        }

        // ì ˆìˆ˜í˜• ìƒ¤ì›Œí—¤ë“œ ë§í¬ ëª©ë¡
        const showerHeadLinks = [
            "https://msearch.shopping.naver.com/search/all?adQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&maxPrice=15900&minPrice=15900&naverPay=true&origQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&pagingIndex=1&pagingSize=40&productSet=total&query=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&sort=rel&spec=M10014548%7CM10773813%20M10014547%7CM10030653&viewType=list",
            "https://msearch.shopping.naver.com/search/all?adQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&maxPrice=15900&minPrice=15900&naverPay=true&origQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&pagingIndex=1&pagingSize=40&productSet=total&query=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&sort=rel&spec=M10014548%7CM10773813%20M10014547%7CM10030653&viewType=list",
            "https://msearch.shopping.naver.com/search/all?adQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&maxPrice=15900&minPrice=15900&naverPay=true&origQuery=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&pagingIndex=1&pagingSize=40&productSet=total&query=%EC%83%A4%EC%9B%8C%ED%97%A4%EB%93%9C&sort=rel&spec=M10014548%7CM10773813%20M10014547%7CM10030653&viewType=list"
        ];

        function openRandomLink() {
            let randomIndex = Math.floor(Math.random() * showerHeadLinks.length);
            window.open(showerHeadLinks[randomIndex], "_blank");
        }

        // ë²„íŠ¼ ê¹œë¹¡ì´ê¸° ê¸°ëŠ¥ (1ì´ˆë§ˆë‹¤ ê¹œë¹¡ì´ì§€ë§Œ, í´ë¦­ ê°€ëŠ¥)
        function blinkButton() {
            let button = document.getElementById("blinkButton");
            let isVisible = true;

            setInterval(() => {
                if (button.style.display === "block") { // ë²„íŠ¼ì´ ë³´ì¼ ë•Œë§Œ ê¹œë¹¡ì´ê²Œ
                    button.style.opacity = isVisible ? "0.2" : "1"; // íˆ¬ëª…ë„ ì¡°ì • (í´ë¦­ ê°€ëŠ¥)
                    isVisible = !isVisible;
                }
            }, 1000); // 1ì´ˆë§ˆë‹¤ ê¹œë¹¡ì´ê²Œ ì„¤ì •
        }

        // ê¹œë¹¡ì´ê¸° ê¸°ëŠ¥ ì‹¤í–‰
        blinkButton();
    </script>

</body>
</html>
